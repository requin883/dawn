<div class="grid place-items-start md:place-items-center dropdown-container w-full h-auto">
  <details class="hamburger-menu">
    <summary
      class="header__icon header__icon--menu header__icon--summary link focus-inset"
      aria-label="{{ 'sections.header.menu' | t }}"
    >
      <span class="w-[30%] icon-container">
        {% render 'icon-hamburger-2' %}
        {% render 'icon-close-2' %}
      </span>
    </summary>
    <div class="md:grid md:grid-flow-col md:place-items-center md:gap-20 ">
    {% for link in section.settings.menu.links %}
      <details class="mt-[1rem] md:mt-0 underlined-container {% if forloop.index == 3 %}mb-[1rem] md:mb-0{% endif %}">
        <summary class="md:hover:underline underlined-summary md:hover:decoration-4 md:hover:underline-offset-[2rem] md:hover:decoration-blue-600">{{ link.title }}</summary>
        {% for childlink in link.links %}
          <details class="childlink-container">
            <summary>{{ childlink.title }}</summary>
            <ul class="grandchildlink-container">
              {% for grandchildlink in childlink.links %}
                <a href='{{ grandchildlink.url }}'><li>{{ grandchildlink.title }}</li></a>
              {% endfor %}
            </ul>
          </details>
        {% endfor %}
      </details>
    {% endfor %}
    </div>
  </details>
</div>

{% javascript %}
  const dropdownMenu = document.querySelector('.dropdown-container');
  const hamburgerMenu = document.getElementsByClassName('hamburger-menu');
  const hamburgerMenuQuery = document.querySelector('.hamburger-menu');
  const iconHamburgerBtn = document.getElementsByClassName('icon-hamburger-2');
  const iconCloseBtn = document.getElementsByClassName('icon-close-2');

  const resizeObserver = new ResizeObserver((entries) => {
    for (const entry of entries) {
      if (entry.contentRect.width >= 750){
        console.log("hello")
        hamburgerMenuQuery.setAttribute('open', true);
      }
    }
  })
  resizeObserver.observe(dropdownMenu)
{% endjavascript %}
{% schema %}
{
  "name": "nav-bar",
  "class": "section",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu"
    }
  ]
}
{% endschema %}
